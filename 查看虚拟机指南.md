# 查看虚拟机指南

## 概述

在 Mac 系统上，您可能安装了多种类型的虚拟机。本指南将帮助您查看和管理这些虚拟机。

## 当前系统状态

根据检查结果，您的系统中有：

### ✅ 已安装的虚拟机

#### 1. Android 模拟器
- **名称**: `Medium_Phone_API_36.0`
- **类型**: Android 虚拟设备 (AVD)
- **API 级别**: Android 36
- **状态**: 已创建，可启动

#### 2. 其他虚拟机软件
- **Parallels Desktop**: 未安装
- **VMware Fusion**: 未安装  
- **VirtualBox**: 未安装
- **Genymotion**: 未安装

## 查看方法详解

### 1. 查看 Android 模拟器

#### 方法一：使用 emulator 命令
```bash
# 查看所有 Android 虚拟设备
~/Library/Android/sdk/emulator/emulator -list-avds

# 或者设置环境变量后使用
export ANDROID_HOME=~/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/platform-tools
emulator -list-avds
```

#### 方法二：查看 AVD 目录
```bash
# 查看 AVD 配置文件
ls -la ~/.android/avd/

# 查看具体配置
cat ~/.android/avd/Medium_Phone_API_36.0.ini
```

#### 方法三：通过 Android Studio
1. 打开 Android Studio
2. 点击 "Tools" → "AVD Manager"
3. 查看所有虚拟设备列表

### 2. 查看其他类型虚拟机

#### Parallels Desktop
```bash
# 查看是否安装
ls -la /Applications | grep -i parallels

# 查看虚拟机列表（如果已安装）
prlctl list
```

#### VMware Fusion
```bash
# 查看是否安装
ls -la /Applications | grep -i vmware

# 查看虚拟机列表（如果已安装）
vmrun list
```

#### VirtualBox
```bash
# 查看是否安装
ls -la /Applications | grep -i virtualbox

# 查看虚拟机列表（如果已安装）
VBoxManage list vms
```

#### Genymotion
```bash
# 查看是否安装
ls -la /Applications | grep -i genymotion

# 查看虚拟机列表（如果已安装）
genymotion -l
```

### 3. 查看 Docker 容器（虚拟化技术）
```bash
# 查看运行中的容器
docker ps

# 查看所有容器（包括停止的）
docker ps -a

# 查看 Docker 镜像
docker images
```

## 管理虚拟机

### 启动 Android 模拟器
```bash
# 启动指定的 AVD
~/Library/Android/sdk/emulator/emulator -avd Medium_Phone_API_36.0

# 启动时指定参数
~/Library/Android/sdk/emulator/emulator -avd Medium_Phone_API_36.0 -gpu host -memory 4096
```

### 创建新的 Android 模拟器
```bash
# 使用命令行创建（需要先安装 Android Studio）
# 推荐通过 Android Studio 图形界面创建
```

### 删除 Android 模拟器
```bash
# 删除 AVD 文件
rm -rf ~/.android/avd/Medium_Phone_API_36.0.avd
rm ~/.android/avd/Medium_Phone_API_36.0.ini
```

## 性能监控

### 查看模拟器状态
```bash
# 查看运行中的模拟器
adb devices

# 查看模拟器进程
ps aux | grep emulator
```

### 查看资源使用
```bash
# 查看 CPU 使用率
adb shell top

# 查看内存使用
adb shell dumpsys meminfo

# 查看存储空间
adb shell df
```

## 常见问题

### 1. 模拟器启动失败
```bash
# 检查 AVD 配置
cat ~/.android/avd/Medium_Phone_API_36.0.ini

# 重新创建 AVD
# 在 Android Studio 中删除并重新创建
```

### 2. 找不到 emulator 命令
```bash
# 设置环境变量
export ANDROID_HOME=~/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/platform-tools

# 添加到 ~/.zshrc 或 ~/.bash_profile
echo 'export ANDROID_HOME=~/Library/Android/sdk' >> ~/.zshrc
echo 'export PATH=$PATH:$ANDROID_HOME/emulator' >> ~/.zshrc
echo 'export PATH=$PATH:$ANDROID_HOME/platform-tools' >> ~/.zshrc
source ~/.zshrc
```

### 3. 模拟器性能问题
```bash
# 增加内存分配
# 在 Android Studio AVD Manager 中修改配置
# 或使用命令行参数
~/Library/Android/sdk/emulator/emulator -avd Medium_Phone_API_36.0 -memory 4096
```

## 推荐配置

### 为抢票工具优化的 AVD 配置
```bash
# 创建高性能 AVD
# 在 Android Studio 中设置：
# - Device: Pixel 6
# - API Level: 30 或更高
# - RAM: 4GB
# - VM Heap: 512MB
# - Internal Storage: 8GB
# - Graphics: Hardware - GLES 2.0
```

### 启动参数优化
```bash
# 优化启动参数
~/Library/Android/sdk/emulator/emulator \
  -avd Medium_Phone_API_36.0 \
  -gpu host \
  -memory 4096 \
  -cores 4 \
  -no-snapshot-load \
  -no-snapshot-save
```

## 快速命令参考

### 查看所有虚拟机
```bash
# Android 模拟器
~/Library/Android/sdk/emulator/emulator -list-avds

# Parallels Desktop
prlctl list 2>/dev/null || echo "Parallels Desktop 未安装"

# VMware Fusion  
vmrun list 2>/dev/null || echo "VMware Fusion 未安装"

# VirtualBox
VBoxManage list vms 2>/dev/null || echo "VirtualBox 未安装"

# Genymotion
genymotion -l 2>/dev/null || echo "Genymotion 未安装"
```

### 一键启动脚本
```bash
#!/bin/bash
# 启动 Android 模拟器脚本

AVD_NAME="Medium_Phone_API_36.0"
EMULATOR_PATH="~/Library/Android/sdk/emulator/emulator"

echo "启动 Android 模拟器: $AVD_NAME"
$EMULATOR_PATH -avd $AVD_NAME -gpu host -memory 4096 &

echo "等待模拟器启动..."
sleep 30

echo "检查设备连接..."
adb devices

echo "模拟器启动完成！"
```

## 总结

您的系统当前状态：
- ✅ **Android 模拟器**: 1个（Medium_Phone_API_36.0）
- ❌ **其他虚拟机软件**: 未安装

**建议**：
1. 当前 Android 模拟器可以用于运行抢票工具
2. 如需更好的性能，可以考虑安装 Parallels Desktop
3. 建议优化当前 AVD 配置以提高性能

---

**注意**: 请确保遵守相关法律法规，仅用于学习和个人使用。 